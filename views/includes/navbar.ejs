<nav
  class="navbar bg-white navbar-expand-md bg-body-light border-bottom sticky-top"
>
  <div class="container-fluid">
    <div class="d-flex justify-content-center align-items-center">
      <a class="navbar-brand" href="/listings"
        ><i class="fa-regular fa-compass"></i
      ></a>
    </div>
    <!-- <div class="editw"></div> -->
    <div
      class="d-flex justify-content-center align-items-center border rounded-circle border-dark-subtle bg-light"
    >
      <button id="darkModeToggle" class="btn" type="button">
        <i class="fa fa-moon"></i>
      </button>
    </div>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavAltMarkup"
      aria-controls="navbarNavAltMarkup"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      class="menuclose collapse navbar-collapse bg-white"
      id="navbarNavAltMarkup"
    >
      <div class="navrow navbar-nav me-auto">
        <a class="nav-link" aria-current="page" href="/listings">Explore</a>
      </div>
      <div>
        <div
          class="wanderlust d-flex justify-content-center align-items-center"
        >
          <h1 class="navbar-brand">WanderLust</h1>
        </div>
      </div>
      <!-- <div class="wanderlust">
        <i class="fa-solid fa-magnifying-glass"></i>
      </div> -->
      <div class="navrow navbar-nav ms-auto">
        <a class="nav-link" href="/listings/new">List Property</a>
        <% if(!currUser){%>

        <b><a class="nav-link" href="/login">Login</a></b>
        <%}%> <% if(currUser){%>
        <b><a id="logout" class="nav-link" href="/logout">Logout</a></b>
        <%}%>
      </div>
    </div>
  </div>
  <script>
    const wanderSearch = document.querySelector(".wanderlust");

    // Add event listener to the document instead
    document.addEventListener("click", function (e) {
      const cancelButton = e.target.closest(".cancelsearch");
      if (cancelButton) {
        if (wanderSearch.classList.contains("active")) {
          wanderSearch.innerHTML = `<h1 class="navbar-brand">WanderLust</h1>`;
          wanderSearch.classList.remove("active");
        }
      }
    });

    wanderSearch.addEventListener("click", () => {
      if (!wanderSearch.classList.contains("active")) {
        wanderSearch.classList.add("active");
        wanderSearch.innerHTML = `<form class="d-flex" role="search">
          <input
            class="form-control me-2"
            type="search"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-outline-success m-1" type="submit">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
          <button class="cancelsearch btn btn-outline-danger m-1" type="button">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </form>`;
      }
    });
  </script>

  <!--   <script>
    const wanderSearch = document.querySelector(".wanderlust");
    wanderSearch.addEventListener("click", () => {
      if (!wanderSearch.classList.contains("active")) {
        wanderSearch.classList.add("active");
        wanderSearch.innerHTML = `<form class="d-flex" role="search">
          <input
            class="form-control me-2"
            type="search"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-outline-success m-1" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
          <button class="cancelsearch btn btn-outline-danger m-1" type="button"><i class="fa-solid fa-xmark"></i></button>
        </form>`;
      }
    });
    const cancelSearch = document.querySelector(".cancelsearch");
    cancelSearch.addEventListener("click", () => {
      if (wanderSearch.classList.contains("active")) {
        wanderSearch.innerHTML = `<h1 class="navbar-brand">WanderLust</h1>`;
        wanderSearch.classList.remove("active");
      }
    });
  </script> -->
</nav>

<!-- const darkModeToggle = document.getElementById("darkModeToggle");
    const body = documnt.body;
    const navbar = document.querySelector(".navbar");
    darkModeToggle.addEventListener("click", () =>{

    })
      body.classList.toggle("dark-mode");
      navbar.classList.toggle("bg-dark");
      navbar.classList.toggle("bg-body-light");
    }); -->
